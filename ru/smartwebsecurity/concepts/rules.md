# Правила

Правила позволяют группировать [условия](conditions.md) отбора HTTP-запросов с [действиями](#rule-action), которые будут выполнятся с этими запросами, а также ранжировать приоритет выполнения правил между собой.

Приоритет правила выставляется с помощью числового параметра от `1` до `1000000`.

{% include [preconfigured-rules-priority](../../_includes/smartwebsecurity/preconfigured-rules-priority.md) %}

Также вы можете фиксировать информацию о трафике, который соответствует заданным условиям, но не применять к нему никаких действий.

В сервисе предусмотрены следующие типы правил:
* [Базовые](#base-rules).
* [Smart Protection](#smart-protection-rules).

Подробнее см. [Управление правилами](../operations/#rules).

## Базовые правила {#base-rules}

_Базовое правило_ — правило, которое разрешает или запрещает трафик по заданным условиям. Применяется для простой фильтрации трафика по определенным параметрам.

В каждом [профиле безопасности](profiles.md) предусмотрено _базовое правило по умолчанию_ с самым низким приоритетом (`1000000`), с помощью которого разрешается или запрещается весь трафик.

## Правила Smart Protection {#smart-protection-rules}

_Smart Protection_ — правило, которое отправляет трафик по заданным условиям на автоматический анализ с помощью алгоритмов машинного обучения и поведенческого анализа. Подозрительные запросы отправляются в [{{ captcha-name }}](../../smartcaptcha/) для дополнительной верификации.

Вы можете использовать следующие варианты капчи:

{% include [captcha-integration](../../_includes/smartwebsecurity/captcha-integration.md) %}

## Действие правил {#rule-action}

Действия для базовых правил:
* _Запретить_ трафик, параметры которого соответствуют условиям.
* _Разрешить_ трафик, параметры которого соответствуют условиям.

Действия для правил Smart Protection:
* _Полная защита_ — трафик проверяется на основе ML-моделей и поведенческого анализа. Подозрительные запросы отправляются в {{ captcha-name }}.
* _Защита API_ — трафик проверяется на основе ML-моделей и поведенческого анализа. Подозрительные запросы блокируются.
